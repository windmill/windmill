<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
	<title>Windmill IDE</title>
	
	<link rel="stylesheet" type="text/css" href="css/windmill.css"/>
	<link rel="stylesheet" type="text/css" href="css/jquery.css"/>
	
	<script type='text/javascript' src='js/lib/jquery-1.2.6.pack.js'></script>	
	<script type="text/javascript" charset="utf-8">
	  jQuery.noConflict();
	</script>
	<script type='text/javascript' src='js/lib/jquery-ui-wm-1.6b.min.js'></script>
		<script type="text/javascript">
		  
			jQuery(function(){
			  //tabs
        jQuery('#tabs ul').tabs();
        jQuery("#dialog").dialog({ autoOpen: false });
        jQuery('.ui-tabs-nav').bind('tabsshow', function(event, ui) {
        ui.panel.style.height = "95%";
      });
    });
	</script>
</head>
		
<body>
  <div id="cover">
    <div style="top:35%;left:20%;position:absolute;">
      <center><div style="font-weight:bold;font-size:14px;" id="loadMessage">Starting Up..</div></center><br>
      <center><img src="img/loading.gif"></center>
    </div>
  </div>
  <div id="main">
	  <img id="icon" src="img/wmIcon.png" alt="Welcome to Windmill!">
	  <div id="runningStatus" align="center">
	    <br><br><h2>Loading, Please Wait...</h2>
	  </div>
	
	  <div id="controllers">
		  <a href="#" title="Toggle Recorder">
			  <img height="28px" width="28px" alt="Toggle Recorder" name='record' 
			    id="record" border=no src="img/record.png" onClick="toggleRec();">
		  </a>

		  <a href="#" title="Play All">
			  <img height="28px" width="28px" alt="Play All" name ='playback' 
			    id="playback" border=no src="img/playback.png" onClick="togglePlay();">
		  </a>

	  	<a href="#" title="Toggle DOM Explorer">
  			<img height="28px" width="28px" alt="Toggle DOM Explorer" name ='explorer' 
  			id="explorer" border=no src="img/xon.png" onClick="toggleExplore();">
  		</a>

  		<a href="#" title="Toggle Assert Explorer">
  			<img height="28px" width="28px" alt="Toggle Assert Explorer" name ='assertx' 
  			id="assertx" border=no src="img/axon.png" onClick="toggleAExplore();">
  		</a>
  	</div>
	
  	<div id="domExp"></div>
  	
    <div id="tabs" style="height:98%;">
      <ul>
          <li class="ui-tabs-nav-item"><a href="#actionsTab">Actions</a></li>
          <li class="ui-tabs-nav-item"><a href="#outputTab">Output</a></li>
          <li class="ui-tabs-nav-item"><a href="#performanceTab">Performance</a></li>
      </ul>
      
      <div id="actionsTab" style="height:95%;padding:0px;margin:0px;">
        <div id="ide" onscroll="scroll();">
        		<form id="ideForm" name="ideForm" onsubmit="return false;"></form>
        	</div>
      </div>
      
      <div id="outputTab" style="height:95%;padding:0px;margin:0px;padding-left:5px;">
        <div class="tab">
          <div id="resOut"></div>
        </div>
      </div>
      
      <div id="performanceTab" style="height:95%;padding:0px;margin:0px;padding-left:5px;">
        <div class="tab">
          <div id="perfOut"></div>
        </div>
      </div>

    </div>
        
    <div id="dialog" style="padding-top:0px;margin-top:0px;">
      <div id="settings" style="font-size:12px;">
       		<form id='settingsForm' name='settingsForm'>
       			<h3 style="color:#25444e">Windmill Settings</h3>
       		  <strong>System</strong><br>
       		<table>
       			<tr>
       				<td>Throw JavaScript errors, full debug:</td>
       				<td> <INPUT TYPE=checkbox UNCHECKED ID='throwDebug'></td>
       			</tr>
       			<tr>
       				<td>Break on failure:</td>
       				<td> <INPUT TYPE=checkbox UNCHECKED ID='toggleBreak' onclick="windmill.ui.toggleBreak();"></td>
       			</tr>
       			<tr>
       				<td>Suppress Javascript Alerts:</td><td> <INPUT TYPE=checkbox UNCHECKED ID='jsAlerts'></td>
       			</tr>
       		  <tr>
       				<td>Suite Save Formatting:</td>
       				<td> 
       					<SELECT id="suiteSaveFormat" NAME="suiteSaveFormat">
       						<OPTION value="python" selected>python</option>
       						<OPTION value="json">json</option>
       					</SELECT>
       				</td>
       			</tr>
       		</table><br>

       		<strong>IDE/Recorder</strong>
       		<table>
       			<tr>
       				<td>Auto Scroll IDE to bottom:</td>
       				<td> <INPUT TYPE=checkbox CHECKED ID='autoScroll'></td>
       			</tr>
       			<tr>
       				<td>Absolute click sensitivity when recording:</td>
       				<td><INPUT TYPE=checkbox CHECKED ID='clickOn'></td>
       			</tr>
       			<tr>
       				<td>Action play button cascades:</td>
       				<td> <INPUT TYPE=checkbox UNCHECKED ID='playCascade'></td>
       			</tr>
       			<tr>
       				<td>Use XPath only for explorer/recorder:</td>
       				<td> <INPUT TYPE=checkbox UNCHECKED ID='useXpath'></td>
       			</tr>
       			<tr>
       				<td>Record detailed XPath's (vs absolute):</td>
       				<td> <INPUT TYPE=checkbox CHECKED ID='absXpaths'></td>
       			</tr>
     				<tr>
       				<td>Play action by hitting 'return/enter':</td>
       				<td> <INPUT TYPE=checkbox CHECKED ID='playOnReturn'></td>
       			</tr>
 				<tr>
   					<td>Cross Browser compatibility mode:</td>
   					<td> <INPUT TYPE=checkbox UNCHECKED ID='xbrowsercompat'></td>
   				</tr>
       		</table>
       		<center> <a id="loopLink" href = "#" onclick="javascript:toggleLoop();">
       		    Toggle Service Loop
       		  </a> &nbsp | &nbsp
       		<a href='#' onclick="windmill.testWindow.document.location.reload()">
       		  Reload Testing Application
       		</a>
       		</center>
       	</form>
       </div>
      
    </div>
 
  	<div id="navigation" style="font-weight:bold">
  	   <span style="font-weight: bold;">
  	    <a href="#" onclick="javascript:openFirebug()">Firebug</a>&nbsp | &nbsp 
  			<a href="#" onclick='javascript:openSettings()'>Settings</a>&nbsp
  		</span>
  		<span>| &nbsp
  		  Actions: &nbsp <select id="actionDD" style="visibility:hidden;">
  		    <option selected>--</option>
  		    <option id="addSuite">Add Suite</option>
  		    <option id="addAction">Add Action</option>
  		    <option id="addActionJSON">Action from JSON</option>
    			<option id="clearIDE">Clear IDE</option>
  		  </select>
  		</span>
  		<span>
  		  &nbsp &nbsp
  		</span>
  		<span id="mouseExp">
      </span>
  	</div>	
  </div>

</body>
<script type="text/javascript">
  var path = "/windmill-compressor/windmill.js";
  
  //use document.write to include all the non cooked files
  var noFile = function(s){
    //Double check to make sure we aren't loading windmill src twice
    if (typeof(windmill) != "undefined"){ return; }
    jQuery("#loadMessage").html("Defaulting to JavaScript includes..");
    
    //Define all the files to be loaded
    var scriptsArr = [];
    scriptsArr.push('js/lib/fleegix.js')
    scriptsArr.push('js/lib/hash.js')
    scriptsArr.push('js/lib/pi.js')
    scriptsArr.push('js/lib/firebug-lite.js')
    if (!/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)){
      scriptsArr.push('js/lib/json2.js')
    }
    scriptsArr.push('js/lib/browserdetect.js')
    scriptsArr.push('js/wm/windmill.js')
    scriptsArr.push('js/lib/getXPath.js')
    scriptsArr.push('js/lib/elementslib.js')
    scriptsArr.push('js/lib/ajaxslt/xmltoken.js')
    scriptsArr.push('js/lib/ajaxslt/dom.js')
    scriptsArr.push('js/lib/ajaxslt/util.js')
    scriptsArr.push('js/lib/ajaxslt/xpath.js')
    scriptsArr.push('js/controller/controller.js')
    scriptsArr.push('js/controller/commands.js')
    scriptsArr.push('js/controller/asserts.js')
    scriptsArr.push('js/controller/waits.js')
    scriptsArr.push('js/extensions/extensions.js')
    scriptsArr.push('js/wm/registry.js')
    scriptsArr.push('js/wm/utils.js')
    scriptsArr.push('js/wm/ide/ui.js')
    scriptsArr.push('js/wm/ide/recorder.js')
    scriptsArr.push('js/wm/ide/remote.js')
    scriptsArr.push('js/wm/ide/dx.js')
    scriptsArr.push('js/wm/ide/ax.js')
    scriptsArr.push('js/wm/ide/results.js')
    scriptsArr.push('js/wm/xhr.js')
    scriptsArr.push('js/wm/metrics.js')
    scriptsArr.push('js/wm/events.js')
    scriptsArr.push('js/wm/global.js')
    scriptsArr.push('js/wm/jstest.js')
    scriptsArr.push('js/wm/load.js')
      
    //pull down each script file
    for (var i = 0; i < scriptsArr.length; i++){
      var scriptTag = document.createElement('script');
      scriptTag.src = scriptsArr[i];
      document.body.appendChild(scriptTag);
    }      
  }
  
  jQuery("#loadMessage").html("Downloading JavaScript Source...");
  
  if (/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)){
    noFile();
  }
  else {
    jQuery.ajax({
      type: "GET",
      url: path,
      dataType: "script",
      error: noFile
    });
  }


</script>

</html>
